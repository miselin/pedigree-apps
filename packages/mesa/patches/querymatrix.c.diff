--- Mesa-9.1.1/src/mesa/main/querymatrix.c.old	2013-04-11 13:39:30.426131956 +1000
+++ Mesa-9.1.1/src/mesa/main/querymatrix.c	2013-04-11 13:39:50.005641684 +1000
@@ -74,7 +74,8 @@ fpclassify(double x)
 #elif defined(__APPLE__) || defined(__CYGWIN__) || defined(__FreeBSD__) || \
      defined(__OpenBSD__) || defined(__NetBSD__) || defined(__DragonFly__) || \
      (defined(__sun) && defined(__C99FEATURES__)) || defined(__MINGW32__) || \
-     (defined(__sun) && defined(__GNUC__)) || defined(ANDROID) || defined(__HAIKU__)
+     (defined(__sun) && defined(__GNUC__)) || defined(ANDROID) || defined(__HAIKU__) || \
+     defined(__PEDIGREE__)
 
 /* fpclassify is available. */
 
